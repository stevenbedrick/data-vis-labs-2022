<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Alison Hill (with minor modifications by Steven Bedrick)" />


<title>Lab 01: Nathan’s Hot-Dog Eating Contest</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">BMI 5/625 Labs, Spring 2022</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="slides.html">Slides &amp; Reading</a>
</li>
<li>
  <a href="data-vis-resources.html">Resources</a>
</li>
<li>
  <a href="https://sakai.ohsu.edu/portal/site/BMI-525-1-AJ-Sp22">Sakai</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lab 01: Nathan’s Hot-Dog Eating
Contest</h1>
<h3 class="subtitle">BMI 5/625</h3>
<h4 class="author">Alison Hill (with minor modifications by Steven
Bedrick)</h4>

</div>


<div id="goals-for-lab-01" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Goals for Lab 01</h1>
<ul>
<li>Get your feet wet!</li>
<li>Innoculate you against <code>ggplot2</code> errors- we all get
them!</li>
<li>Get exposed to the <em>range</em> of things you can do, before we go
<strong>deep</strong>…</li>
<li>Develop your <em>own</em> <strong>personal</strong> preferences for
data visualizations!
<ul>
<li>Do you like or hate gridlines?</li>
<li>What fonts do you find pleasant to read?</li>
<li>What kinds of colors do you like?</li>
<li>Are you team <code>theme_gray</code> or <code>theme_bw</code> (or
<code>theme_minimal</code>)?</li>
</ul></li>
</ul>
<p>These are important questions, and I want you to develop
(well-informed) opinions on these matters! <img
src="images/theme-team-tweets.png" /></p>
<p>Other things to think about for this lab:</p>
<ul>
<li>Try not to copy-and-paste code:
<ul>
<li>Becoming efficient/proficient with R depends on building muscle
memory, and the only way to do that is to type</li>
<li>By typing, you <em>will</em> introduce errors, and this is a good
chance to get practice at interpreting and fixing them.</li>
</ul></li>
<li>Take note of steps or functions that you are unfamiliar with- we
will likely learn more about them all as the term goes on, but this lab
will help you identify particular areas that you are comfortable with as
well as areas you will want to focus on.</li>
</ul>
</div>
<div id="nathans-hot-dog-eating-contest" class="section level1"
number="2">
<h1><span class="header-section-number">2</span> Nathan’s Hot Dog Eating
Contest</h1>
<p><img
src="https://i0.wp.com/flowingdata.com/wp-content/uploads/2009/06/hot-dogs1.gif?zoom=2&amp;fit=900%2C423" /></p>
<p>This includes a reconstruction of <a
href="http://flowingdata.com/2009/07/02/whos-going-to-win-nathans-hot-dog-eating-contest/hot-dogs-2/">Nathan
Yau’s hot dog contest example</a>, as interpreted by Jackie Wirz, ported
into R and <code>ggplot2</code> by Steven Bedrick for a workshop for the
<a href="https://ohsulibrary-datascienceinstitute.github.io">OHSU Data
Science Institute</a>, and finally adapted, made idiomatic, and improved
by Alison Hill for all you intrepid Data-Viz-onauts!</p>
<p>First, we load our packages:</p>
<pre class="r"><code>library(tidyverse)
library(extrafont)
library(here)</code></pre>
</div>
<div id="read-in-and-wrangle-data" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Read in and wrangle
data</h1>
<p>Next, we load some data. In the RStudio Cloud project for this lab,
you will see a <code>data</code> directory with the necessary files. We
can read it in using <code>read_csv</code>, and along the way use
<code>col_factor</code> to tell it how to handle the gender column.</p>
<pre class="r"><code>hot_dogs &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest.csv&quot;), 
    col_types = cols(
      gender = col_factor(levels = NULL)
    ))</code></pre>
<p>Note that if the data were <em>not</em> already downloaded locally,
<code>read_csv()</code> can load CSV files from a URL:</p>
<pre class="r"><code>hot_dogs &lt;- read_csv(&quot;http://bit.ly/cs631-hotdog&quot;, 
    col_types = cols(
      gender = col_factor(levels = NULL)
    ))</code></pre>
<p>Either way you do it, check it out once read in and make sure it
looks like this!</p>
<pre class="r"><code>glimpse(hot_dogs)</code></pre>
<pre><code>Rows: 49
Columns: 4
$ year      &lt;dbl&gt; 2017, 2017, 2016, 2016, 2015, 2015, 2014, 2014, 2013, 2013, …
$ gender    &lt;fct&gt; male, female, male, female, male, female, male, female, male…
$ name      &lt;chr&gt; &quot;Joey Chestnut&quot;, &quot;Miki Sudo&quot;, &quot;Joey Chestnut&quot;, &quot;Miki Sudo&quot;, …
$ num_eaten &lt;dbl&gt; 72.000, 41.000, 70.000, 38.000, 62.000, 38.000, 61.000, 34.0…</code></pre>
<pre class="r"><code>hot_dogs</code></pre>
<pre><code># A tibble: 49 × 4
    year gender name           num_eaten
   &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;              &lt;dbl&gt;
 1  2017 male   Joey Chestnut       72  
 2  2017 female Miki Sudo           41  
 3  2016 male   Joey Chestnut       70  
 4  2016 female Miki Sudo           38  
 5  2015 male   Matthew Stonie      62  
 6  2015 female Miki Sudo           38  
 7  2014 male   Joey Chestnut       61  
 8  2014 female Miki Sudo           34  
 9  2013 male   Joey Chestnut       69  
10  2013 female Sonya Thomas        36.8
# … with 39 more rows</code></pre>
<p>At this point, follow the HLO process and familiarize yourself with
the columns and their contents.</p>
<p>In addition to the information that is already <em>in</em> the
dataset itself, we know that we will also be wanting to somehow include
information about whether a given year was before or after the
incorporation of the competitive eating league. Let’s add an
<em>indicator variable</em> to the data using <code>mutate()</code>.
Also, the data’s a little sketchy pre-1981, and for our purposes today
we’ll be focusing on males only, so let’s do some
<code>filter</code>ing, as well:</p>
<pre class="r"><code>hot_dogs &lt;- hot_dogs %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &#39;male&#39;)
hot_dogs</code></pre>
<pre><code># A tibble: 37 × 5
    year gender name           num_eaten post_ifoce
   &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;              &lt;dbl&gt; &lt;lgl&gt;     
 1  2017 male   Joey Chestnut         72 TRUE      
 2  2016 male   Joey Chestnut         70 TRUE      
 3  2015 male   Matthew Stonie        62 TRUE      
 4  2014 male   Joey Chestnut         61 TRUE      
 5  2013 male   Joey Chestnut         69 TRUE      
 6  2012 male   Joey Chestnut         68 TRUE      
 7  2011 male   Joey Chestnut         62 TRUE      
 8  2010 male   Joey Chestnut         54 TRUE      
 9  2009 male   Joey Chestnut         68 TRUE      
10  2008 male   Joey Chestnut         59 TRUE      
# … with 27 more rows</code></pre>
</div>
<div id="plot-the-data" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Plot The Data</h1>
<p>Now let’s try making a first crack at a plot:</p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col()</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Note that our data is already in “counted” form, so we’re using
<code>geom_col()</code> instead of <code>geom_bar()</code>.</p>
<p>We will now progressively improve this visualization, one step at a
time.</p>
</div>
<div id="add-axis-labels-and-title" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Add Axis Labels And
Title</h1>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col() +
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="play-with-colors" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Play With Colors</h1>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #1:
</div>
<div class="panel-body">
<p>Make 3 versions of the last plot we just made:</p>
<ul>
<li><strong>In the first,</strong> make all the columns outlined in
“white”.</li>
<li><strong>In the second,</strong> make all the columns outlined in
“white” and filled in “navyblue”.</li>
<li><strong>In the third,</strong> make all the columns outlined in
“white” and filled in according to whether or not
<code>post_ifoce</code> is TRUE or FALSE (use default colors for
now).</li>
</ul>
<p><em>HINT:</em> <code>color</code> and <code>fill</code> are two of
<code>ggplot</code>’s aesthetic mapping variables (i.e., “things about
how the plot looks that we get to specify”)</p>
</div>
</div>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(colour = &quot;white&quot;, fill = &quot;navyblue&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = post_ifoce), colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #2:
</div>
<div class="panel-body">
<p>What if you want to change the legend in the last plot you made? Use
google to figure out how to do the following:</p>
<ul>
<li>Delete the legend title</li>
<li>Make the legend text either “Post-IFOCE” or “Pre-IFOCE”.</li>
</ul>
<p>HINT: in <code>ggplot</code>, legends are controlled by the relevant
scale (color, fill, etc.) that they are mapped to.</p>
</div>
</div>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = post_ifoce), colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;) +
  scale_fill_discrete(name = &quot;&quot;,
                      labels=c(&quot;Pre-IFOCE&quot;, &quot;Post-IFOCE&quot;))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="change-the-dataset" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Change The Dataset</h1>
<p>Now, let’s change the question a little bit. Up to this point, we
have looked at HDB performance relative to the <em>creation</em> of the
IFOCE. What if what matters is the <em>affiliation</em> of the
contestants (i.e., whether or not the contestants are members of the
IFOCE or not)? We’ll need some different data for this. Through the
<em>Magic Of Data Science™</em>, we have dug that information up and put
it into an expanded version of our CSV file available at <a
href="http://bit.ly/cs631-hotdog-affiliated">http://bit.ly/cs631-hotdog-affiliated</a>.</p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #3:
</div>
<div class="panel-body">
<p>Let’s work with this new dataset! Do the following:</p>
<ul>
<li><p>Read in the “hot_dog_contest_with_affiliation.csv” data file,
using <code>col_types</code> to read in <code>affiliated</code> and
<code>gender</code> as factors.</p></li>
<li><p>Within a <code>mutate</code>, create a new variable called
<code>post_ifoce</code> that is TRUE if <code>year</code> is greater
than or equal to 1997.</p></li>
<li><p>Also <code>filter</code> the new data for only years 1981 and
after, and only for male competitors.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>hdm_affil &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;male&quot;) </code></pre>
<pre class="r"><code>hdm_affil &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;male&quot;) 
glimpse(hdm_affil)</code></pre>
<pre><code>Rows: 37
Columns: 6
$ year       &lt;dbl&gt; 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008,…
$ gender     &lt;fct&gt; male, male, male, male, male, male, male, male, male, male,…
$ name       &lt;chr&gt; &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Matthew Stonie&quot;, &quot;Joey C…
$ num_eaten  &lt;dbl&gt; 72.000, 70.000, 62.000, 61.000, 69.000, 68.000, 62.000, 54.…
$ affiliated &lt;fct&gt; current, current, current, current, current, current, curre…
$ post_ifoce &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE,…</code></pre>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #4:
</div>
<div class="panel-body">
<p>Let’s do some basic EDA with this new dataset! Do the following:</p>
<ul>
<li><p>Use <code>dplyr::distinct</code> to figure out how many unique
values there are of <code>affiliated</code>.</p></li>
<li><p>Use <code>dplyr::count</code> to count the number of rows for
each unique value of <code>affiliated</code>; use <code>?count</code> to
figure out how to sort the counts in descending order.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>hdm_affil %&gt;% 
  distinct(affiliated)</code></pre>
<pre><code># A tibble: 3 × 1
  affiliated    
  &lt;fct&gt;         
1 current       
2 former        
3 not affiliated</code></pre>
<pre class="r"><code>hdm_affil %&gt;% 
  count(affiliated, sort = TRUE)</code></pre>
<pre><code># A tibble: 3 × 2
  affiliated         n
  &lt;fct&gt;          &lt;int&gt;
1 not affiliated    20
2 current           11
3 former             6</code></pre>
<p>Now let’s plot this new data, and fill the columns according to our
new <code>affiliated</code> column.</p>
<pre class="r"><code>ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #5:
</div>
<div class="panel-body">
<p>Do the following updates to the last plot we just made:</p>
<ul>
<li><p>Update the colors using hex colors:
<code>c('#E9602B','#2277A0','#CCB683')</code>.</p></li>
<li><p>Change the legend title to “IFOCE-affiliation”.</p></li>
<li><p>Save this plot object as “affil_plot”.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>affil_plot &lt;- ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;) +
  scale_fill_manual(values = c(&#39;#E9602B&#39;,&#39;#2277A0&#39;,&#39;#CCB683&#39;),
                    name = &quot;IFOCE-affiliation&quot;)
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="play-with-scales-coordinates" class="section level1"
number="8">
<h1><span class="header-section-number">8</span> Play With Scales &amp;
Coordinates</h1>
<p>Now that the bones of the plot are in place, it’s time to tweak the
details.</p>
<p>The spacing’s a little funky down near the origin of the plot. The <a
href="http://ggplot2.tidyverse.org/reference/scale_continuous.html">documentation</a>
tells us that the defaults are <code>c(0.05, 0)</code> for continuous
variables. The first number is multiplicative and the second is
additive.</p>
<p>The default was that 1.8 ((2017-1981)*.05+0) was added to the right
and left sides of the x-axis as padding, so the effective default limits
were <code>c(1979, 2019)</code>.</p>
<p>Let’s tighten that up with the <code>expand</code> property for the
<code>scale_y_continuous</code> (we’ll also change the breaks for y-axis
tick marks here) and <code>scale_x_continuous</code> settings:</p>
<pre class="r"><code>affil_plot &lt;- affil_plot + 
  scale_y_continuous(expand = c(0, 0),
                     breaks = seq(0, 70, 10)) +
  scale_x_continuous(expand = c(0, 0))
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>But now the plot looks like it is wearing tight pants.</p>
<!-- ![](https://media.giphy.com/media/xT1XH07no2wZSq4mnm/giphy.gif) -->
<p>Let’s loosen things up a bit by updating the plot coordinates.</p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #6:
</div>
<div class="panel-body">
<p>Use <code>coord_cartesian</code> to:</p>
<ul>
<li><p>Set the x-axis range to 1980-2018</p></li>
<li><p>Set the y-axis range to 0-80</p>
</div></li>
</ul>
</div>
<p>Using <code>coord_cartesian</code> is the preferred layer here
because “setting limits on the coordinate system will zoom the plot
(like you’re looking at it with a magnifying glass), and will not change
the underlying data like setting <code>limits</code> on a scale
will.”</p>
<div class="panel panel-info">
<div class="panel-heading">
Lesson:
</div>
<div class="panel-body">
Don’t change <code>limits</code> unless you really know what you are
doing! Most of the time, you want to change the coordinates instead.
</div>
</div>
<pre class="r"><code>affil_plot &lt;- affil_plot + 
  coord_cartesian(xlim = c(1980, 2018), ylim = c(0, 80)) 
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="play-with-theme-settings" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Play With Theme
Settings</h1>
<p>We will talk a lot more about themes and <code>ggplot</code> later in
the term, but for now, the important thing to know is that most visual
aspects of the plot have a <em>name</em> (e.g. <code>plot.title</code>),
and the <code>theme()</code> function lets us tell <code>ggplot</code>
what any <a
href="https://ggplot2.tidyverse.org/reference/theme.html">named part</a>
of the plot should look like.</p>
<p>Let’s change some key theme settings:</p>
<pre class="r"><code>affil_plot +
  theme(plot.title = element_text(hjust = 0.5)) +
  theme(axis.text = element_text(size = 12)) +
  theme(panel.background = element_blank()) +
  theme(axis.line.x = element_line(color = &quot;gray80&quot;, size = 0.5)) +
  theme(axis.ticks = element_line(color = &quot;gray80&quot;, size = 0.5))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="panel panel-info">
<div class="panel-heading">
Lesson:
</div>
<div class="panel-body">
You can change <em>almost anything</em> that your heart desires to
change!
</div>
</div>
<p>By default, plot titles in <code>ggplot2</code> are left-aligned. For
<code>hjust</code>:</p>
<ul>
<li><code>0</code> == left</li>
<li><code>0.5</code> == centered</li>
<li><code>1</code> == right</li>
</ul>
<p>We could also save all these as a custom theme. We are not fans of
the default font, so we are also going to change this. To do this, you
need to install the (<code>extrafont</code> package)[<a
href="https://github.com/wch/extrafont"
class="uri">https://github.com/wch/extrafont</a>] and follow its setup
instructions before doing this next step.</p>
<pre class="r"><code>hot_diggity &lt;- theme(plot.title = element_text(hjust = 0.5),
                     axis.text = element_text(size = 12),
                     panel.background = element_blank(),
                     axis.line.x = element_line(color = &quot;gray80&quot;, size = 0.5),
                     axis.ticks = element_line(color = &quot;gray80&quot;, size = 0.5),
                     text = element_text(family = &quot;Lato&quot;) # need extrafont for this
                     )</code></pre>
<pre class="r"><code>affil_plot + hot_diggity </code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>We could also use someone else’s theme:</p>
<pre class="r"><code>library(ggthemes)
affil_plot + theme_fivethirtyeight(base_family = &quot;Lato&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<pre class="r"><code>affil_plot + theme_tufte( base_family = &quot;Palatino&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-22-2.png" width="672" /></p>
<p>The final thing we have to mess with is the x-axis ticks and labels.
We’ll do this in two steps, then override our previous layer
<code>scale_x_continuous</code>.</p>
<pre class="r"><code># manually compute a list of years that we want labeled...
years_to_label &lt;- seq(from = 1981, to = 2017, by = 4) 
years_to_label</code></pre>
<pre><code> [1] 1981 1985 1989 1993 1997 2001 2005 2009 2013 2017</code></pre>
<pre class="r"><code># add a column to the dataframe containing what we want each year&#39;s label to be
hd_years &lt;- hdm_affil %&gt;%
  distinct(year) %&gt;% 
  mutate(year_lab = ifelse(year %in% years_to_label, year, &quot;&quot;))</code></pre>
<pre class="r"><code># manually tell ggplot what to use for breaks and labels
affil_plot + 
  hot_diggity +
  scale_x_continuous(expand = c(0, 0), 
                     breaks = hd_years$year,
                     labels = hd_years$year_lab)</code></pre>
<pre><code>Scale for &#39;x&#39; is already present. Adding another scale for &#39;x&#39;, which will
replace the existing scale.</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="final-final-final-version" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Final (final, final)
version</h1>
<p>Don’t name your files “final” :)</p>
<p><img
src="http://www.phdcomics.com/comics/archive/phd101212s.gif" /></p>
<p>All together in one chunk, here is our final (for now) plot! I’m also
adding some additional elements here to show you options:</p>
<pre class="r"><code>nathan_plot &lt;- ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2017&quot;) +
  scale_fill_manual(values = c(&#39;#E9602B&#39;,&#39;#2277A0&#39;,&#39;#CCB683&#39;),
                    name = &quot;IFOCE-affiliation&quot;) + 
  hot_diggity +
  scale_y_continuous(expand = c(0, 0),
                     breaks = seq(0, 70, 10)) +
  scale_x_continuous(expand = c(0, 0), 
                     breaks = hd_years$year,
                     labels = hd_years$year_lab) + 
  coord_cartesian(xlim = c(1980, 2018), ylim = c(0, 80)) 
nathan_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>The fill legend is doing its job, here, but we might instead want to
use direct annotations on the plot itself, to make it easier and faster
to read.</p>
<p><code>ggplot</code> will let us add <em>annotatations</em> to the
plot- i.e., extra text, lines , etc. that are not derived from the data
in the plot, but are manually specified - using the
<code>annotate()</code> function, which adds additional layers to the
plot. The way we are doing it below is a bit tedious but demonstrates
how it works.</p>
<pre class="r"><code>nathan_ann &lt;- nathan_plot +
  guides(fill = FALSE) +
  coord_cartesian(xlim = c(1980, 2019), ylim = c(0, 85)) +
  annotate(&#39;segment&#39;, x=1980.75, xend=2000.25, y= 30, yend=30, size=0.5, color=&quot;#CCB683&quot;)+
  annotate(&#39;segment&#39;, x=1980.75, xend=1980.75, y= 30, yend=28, size=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;segment&#39;, x=2000.25, xend=2000.25, y= 30, yend=28, size=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;segment&#39;, x=1990, xend=1990, y= 33, yend=30, size=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;text&#39;, x=1990, y=36, label=&quot;No MLE/IFOCE Affiliation&quot;, color=&quot;#CCB683&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3) +



  annotate(&#39;segment&#39;, x=2000.75, xend=2006.25, y= 58, yend=58, size=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2000.75, xend=2000.75, y= 58, yend=56, size=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2006.25, xend=2006.25, y= 58, yend=56, size=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2003.5, xend=2003.5, y= 61, yend=58, size=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;text&#39;, x=2003.5, y=65, label=&quot;MLE/IFOCE\nFormer Member&quot;, color=&quot;#2277A0&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3) +


  annotate(&#39;segment&#39;, x=2006.75, xend=2017.25, y= 76, yend=76, size=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2006.75, xend=2006.75, y= 76, yend=74, size=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2017.25, xend=2017.25, y= 76, yend=74, size=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2012, xend=2012, y= 79, yend=76, size=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;text&#39;, x=2012, y=82, label=&quot;MLE/IFOCE Current Member&quot;, color=&quot;#E9602B&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3)</code></pre>
<pre><code>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
&quot;none&quot;)` instead.</code></pre>
<pre><code>Coordinate system already present. Adding new coordinate system, which will replace the existing one.</code></pre>
<pre class="r"><code>nathan_ann</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>Finally, adding in another layer of data, including information about
female contestants:</p>
<pre class="r"><code>hdm_females &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;female&quot;) 
glimpse(hdm_females)</code></pre>
<pre><code>Rows: 7
Columns: 6
$ year       &lt;dbl&gt; 2017, 2016, 2015, 2014, 2013, 2012, 2011
$ gender     &lt;fct&gt; female, female, female, female, female, female, female
$ name       &lt;chr&gt; &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Sonya …
$ num_eaten  &lt;dbl&gt; 41.00, 38.00, 38.00, 34.00, 36.75, 45.00, 40.00
$ affiliated &lt;fct&gt; current, current, current, current, current, current, curre…
$ post_ifoce &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE</code></pre>
<pre class="r"><code>nathan_w_females &lt;- nathan_ann +
  # add in the female data, and manually set a fill color
  geom_col(data = hdm_females, 
           width = 0.75, 
           fill = &quot;#F68A39&quot;) 
nathan_w_females</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>And adding a final caption:</p>
<pre class="r"><code>caption &lt;- paste(strwrap(&quot;* From 2011 on, separate Men&#39;s and Women&#39;s prizes have been awarded. All female champions to date have been MLE/IFOCE-affiliated.&quot;, 70), collapse=&quot;\n&quot;)

nathan_w_females +
  # now an asterisk to set off the female scores, and a caption
  annotate(&#39;text&#39;, x = 2018.5, y = 39, label=&quot;*&quot;, family = &quot;Lato&quot;, size = 8) +
  labs(caption = caption) +
  theme(plot.caption = element_text(family = &quot;Lato&quot;, size=8, hjust=0, margin=margin(t=15)))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiTGFiIDAxOiBOYXRoYW4ncyBIb3QtRG9nIEVhdGluZyBDb250ZXN0IgpzdWJ0aXRsZTogIkJNSSA1LzYyNSIKYXV0aG9yOiAiQWxpc29uIEhpbGwgKHdpdGggbWlub3IgbW9kaWZpY2F0aW9ucyBieSBTdGV2ZW4gQmVkcmljaykiCm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgdGhlbWU6IGZsYXRseQogICAgdG9jOiBUUlVFCiAgICB0b2NfZmxvYXQ6IFRSVUUKICAgIHRvY19kZXB0aDogMgogICAgbnVtYmVyX3NlY3Rpb25zOiBUUlVFCiAgICBjb2RlX2ZvbGRpbmc6IGhpZGUKICAgIGNvZGVfZG93bmxvYWQ6IHRydWUKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZSA9IEZBTFNFLCBjYWNoZSA9IEZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoZXJyb3IgPSBUUlVFLCBjb21tZW50ID0gTkEsIHdhcm5pbmdzID0gRkFMU0UsIGVycm9ycyA9IEZBTFNFLCBtZXNzYWdlcyA9IEZBTFNFLCB0aWR5ID0gRkFMU0UsIGNhY2hlID0gVFJVRSkKYGBgCgpgYGB7ciBsb2FkLXBhY2thZ2VzLCBpbmNsdWRlID0gRkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQpsaWJyYXJ5KGV4dHJhZm9udCkKYGBgCgojIEdvYWxzIGZvciBMYWIgMDEKCi0gR2V0IHlvdXIgZmVldCB3ZXQhCi0gSW5ub2N1bGF0ZSB5b3UgYWdhaW5zdCBgZ2dwbG90MmAgZXJyb3JzLSB3ZSBhbGwgZ2V0IHRoZW0hCi0gR2V0IGV4cG9zZWQgdG8gdGhlICpyYW5nZSogb2YgdGhpbmdzIHlvdSBjYW4gZG8sIGJlZm9yZSB3ZSBnbyAqKmRlZXAqKi4uLgotIERldmVsb3AgeW91ciAqb3duKiAqKnBlcnNvbmFsKiogcHJlZmVyZW5jZXMgZm9yIGRhdGEgdmlzdWFsaXphdGlvbnMhCiAgICAtIERvIHlvdSBsaWtlIG9yIGhhdGUgZ3JpZGxpbmVzPwogICAgLSBXaGF0IGZvbnRzIGRvIHlvdSBmaW5kIHBsZWFzYW50IHRvIHJlYWQ/CiAgICAtIFdoYXQga2luZHMgb2YgY29sb3JzIGRvIHlvdSBsaWtlPwogICAgLSBBcmUgeW91IHRlYW0gYHRoZW1lX2dyYXlgIG9yIGB0aGVtZV9id2AgKG9yIGB0aGVtZV9taW5pbWFsYCk/CiAgICAKVGhlc2UgYXJlIGltcG9ydGFudCBxdWVzdGlvbnMsIGFuZCBJIHdhbnQgeW91IHRvIGRldmVsb3AgKHdlbGwtaW5mb3JtZWQpIG9waW5pb25zIG9uIHRoZXNlIG1hdHRlcnMhCiFbXShpbWFnZXMvdGhlbWUtdGVhbS10d2VldHMucG5nKQoKT3RoZXIgdGhpbmdzIHRvIHRoaW5rIGFib3V0IGZvciB0aGlzIGxhYjoKCi0gVHJ5IG5vdCB0byBjb3B5LWFuZC1wYXN0ZSBjb2RlOgogIC0gQmVjb21pbmcgZWZmaWNpZW50L3Byb2ZpY2llbnQgd2l0aCBSIGRlcGVuZHMgb24gYnVpbGRpbmcgbXVzY2xlIG1lbW9yeSwgYW5kIHRoZSBvbmx5IHdheSB0byBkbyB0aGF0IGlzIHRvIHR5cGUKICAtIEJ5IHR5cGluZywgeW91IF93aWxsXyBpbnRyb2R1Y2UgZXJyb3JzLCBhbmQgdGhpcyBpcyBhIGdvb2QgY2hhbmNlIHRvIGdldCBwcmFjdGljZSBhdCBpbnRlcnByZXRpbmcgYW5kIGZpeGluZyB0aGVtLgotIFRha2Ugbm90ZSBvZiBzdGVwcyBvciBmdW5jdGlvbnMgdGhhdCB5b3UgYXJlIHVuZmFtaWxpYXIgd2l0aC0gd2Ugd2lsbCBsaWtlbHkgbGVhcm4gbW9yZSBhYm91dCB0aGVtIGFsbCBhcyB0aGUgdGVybSBnb2VzIG9uLCBidXQgdGhpcyBsYWIgd2lsbCBoZWxwIHlvdSBpZGVudGlmeSBwYXJ0aWN1bGFyIGFyZWFzIHRoYXQgeW91IGFyZSBjb21mb3J0YWJsZSB3aXRoIGFzIHdlbGwgYXMgYXJlYXMgeW91IHdpbGwgd2FudCB0byBmb2N1cyBvbi4KCgojIE5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QKCiFbXShodHRwczovL2kwLndwLmNvbS9mbG93aW5nZGF0YS5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMDkvMDYvaG90LWRvZ3MxLmdpZj96b29tPTImZml0PTkwMCUyQzQyMykKClRoaXMgaW5jbHVkZXMgYSByZWNvbnN0cnVjdGlvbiBvZiBbTmF0aGFuIFlhdSdzIGhvdCBkb2cgY29udGVzdCBleGFtcGxlXShodHRwOi8vZmxvd2luZ2RhdGEuY29tLzIwMDkvMDcvMDIvd2hvcy1nb2luZy10by13aW4tbmF0aGFucy1ob3QtZG9nLWVhdGluZy1jb250ZXN0L2hvdC1kb2dzLTIvKSwgYXMgaW50ZXJwcmV0ZWQgYnkgSmFja2llIFdpcnosIHBvcnRlZCBpbnRvIFIgYW5kIGBnZ3Bsb3QyYCBieSBTdGV2ZW4gQmVkcmljayBmb3IgYSB3b3Jrc2hvcCBmb3IgdGhlIFtPSFNVIERhdGEgU2NpZW5jZSBJbnN0aXR1dGVdKGh0dHBzOi8vb2hzdWxpYnJhcnktZGF0YXNjaWVuY2VpbnN0aXR1dGUuZ2l0aHViLmlvKSwgYW5kIGZpbmFsbHkgYWRhcHRlZCwgbWFkZSBpZGlvbWF0aWMsIGFuZCBpbXByb3ZlZCBieSBBbGlzb24gSGlsbCBmb3IgYWxsIHlvdSBpbnRyZXBpZCBEYXRhLVZpei1vbmF1dHMhCgoKRmlyc3QsIHdlIGxvYWQgb3VyIHBhY2thZ2VzOiAKCgpgYGB7ciBldmFsPUZBTFNFLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkoZXh0cmFmb250KQpsaWJyYXJ5KGhlcmUpCmBgYAoKCiMgUmVhZCBpbiBhbmQgd3JhbmdsZSBkYXRhCgpOZXh0LCB3ZSBsb2FkIHNvbWUgZGF0YS4gSW4gdGhlIFJTdHVkaW8gQ2xvdWQgcHJvamVjdCBmb3IgdGhpcyBsYWIsIHlvdSB3aWxsIHNlZSBhIGBkYXRhYCBkaXJlY3Rvcnkgd2l0aCB0aGUgbmVjZXNzYXJ5IGZpbGVzLiBXZSBjYW4gcmVhZCBpdCBpbiB1c2luZyBgcmVhZF9jc3ZgLCBhbmQgYWxvbmcgdGhlIHdheSB1c2UgYGNvbF9mYWN0b3JgIHRvIHRlbGwgaXQgaG93IHRvIGhhbmRsZSB0aGUgZ2VuZGVyIGNvbHVtbi4KCmBgYHtyfQpob3RfZG9ncyA8LSByZWFkX2NzdihoZXJlOjpoZXJlKCJkYXRhIiwgImhvdF9kb2dfY29udGVzdC5jc3YiKSwgCiAgICBjb2xfdHlwZXMgPSBjb2xzKAogICAgICBnZW5kZXIgPSBjb2xfZmFjdG9yKGxldmVscyA9IE5VTEwpCiAgICApKQpgYGAKCk5vdGUgdGhhdCBpZiB0aGUgZGF0YSB3ZXJlIF9ub3RfIGFscmVhZHkgZG93bmxvYWRlZCBsb2NhbGx5LCBgcmVhZF9jc3YoKWAgY2FuIGxvYWQgQ1NWIGZpbGVzIGZyb20gYSBVUkw6CgpgYGB7ciBldmFsID0gRkFMU0V9CmhvdF9kb2dzIDwtIHJlYWRfY3N2KCJodHRwOi8vYml0Lmx5L2NzNjMxLWhvdGRvZyIsIAogICAgY29sX3R5cGVzID0gY29scygKICAgICAgZ2VuZGVyID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKQogICAgKSkKYGBgCgpFaXRoZXIgd2F5IHlvdSBkbyBpdCwgY2hlY2sgaXQgb3V0IG9uY2UgcmVhZCBpbiBhbmQgbWFrZSBzdXJlIGl0IGxvb2tzIGxpa2UgdGhpcyEKCmBgYHtyfQpnbGltcHNlKGhvdF9kb2dzKQpob3RfZG9ncwpgYGAKCkF0IHRoaXMgcG9pbnQsIGZvbGxvdyB0aGUgSExPIHByb2Nlc3MgYW5kIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlIGNvbHVtbnMgYW5kIHRoZWlyIGNvbnRlbnRzLgoKSW4gYWRkaXRpb24gdG8gdGhlIGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBfaW5fIHRoZSBkYXRhc2V0IGl0c2VsZiwgd2Uga25vdyB0aGF0IHdlIHdpbGwgYWxzbyBiZSB3YW50aW5nIHRvIHNvbWVob3cgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGV0aGVyIGEgZ2l2ZW4geWVhciB3YXMgYmVmb3JlIG9yIGFmdGVyIHRoZSBpbmNvcnBvcmF0aW9uIG9mIHRoZSBjb21wZXRpdGl2ZSBlYXRpbmcgbGVhZ3VlLiBMZXQncyBhZGQgYW4gX2luZGljYXRvciB2YXJpYWJsZV8gdG8gdGhlIGRhdGEgdXNpbmcgYG11dGF0ZSgpYC4gQWxzbywgdGhlIGRhdGEncyBhIGxpdHRsZSBza2V0Y2h5IHByZS0xOTgxLCBhbmQgZm9yIG91ciBwdXJwb3NlcyB0b2RheSB3ZSdsbCBiZSBmb2N1c2luZyBvbiBtYWxlcyBvbmx5LCBzbyBsZXQncyBkbyBzb21lIGBmaWx0ZXJgaW5nLCBhcyB3ZWxsOgoKYGBge3J9CmhvdF9kb2dzIDwtIGhvdF9kb2dzICU+JSAKICBtdXRhdGUocG9zdF9pZm9jZSA9IHllYXIgPj0gMTk5NykgJT4lIAogIGZpbHRlcih5ZWFyID49IDE5ODEgJiBnZW5kZXIgPT0gJ21hbGUnKQpob3RfZG9ncwpgYGAKCgoKIyBQbG90IFRoZSBEYXRhCgpOb3cgbGV0J3MgdHJ5IG1ha2luZyBhIGZpcnN0IGNyYWNrIGF0IGEgcGxvdDoKCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woKQpgYGAKCk5vdGUgdGhhdCBvdXIgZGF0YSBpcyBhbHJlYWR5IGluICJjb3VudGVkIiBmb3JtLCBzbyB3ZSdyZSB1c2luZyBgZ2VvbV9jb2woKWAgaW5zdGVhZCBvZiBgZ2VvbV9iYXIoKWAuCgpXZSB3aWxsIG5vdyBwcm9ncmVzc2l2ZWx5IGltcHJvdmUgdGhpcyB2aXN1YWxpemF0aW9uLCBvbmUgc3RlcCBhdCBhIHRpbWUuCgojIEFkZCBBeGlzIExhYmVscyBBbmQgVGl0bGUKCgpgYGB7cn0KZ2dwbG90KGhvdF9kb2dzLCBhZXMoeCA9IHllYXIsIHkgPSBudW1fZWF0ZW4pKSArIAogIGdlb21fY29sKCkgKwogIGxhYnMoeCA9ICJZZWFyIiwgeSA9ICJIb3QgRG9ncyBhbmQgQnVucyBDb25zdW1lZCIpICsKICBnZ3RpdGxlKCJOYXRoYW4ncyBIb3QgRG9nIEVhdGluZyBDb250ZXN0IFJlc3VsdHMsIDE5ODEtMjAxNyIpCmBgYAoKIyBQbGF5IFdpdGggQ29sb3JzCgo8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1zdWNjZXNzIj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5DaGFsbGVuZ2UgIzE6PC9kaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+Ck1ha2UgMyB2ZXJzaW9ucyBvZiB0aGUgbGFzdCBwbG90IHdlIGp1c3QgbWFkZToKCiogX19JbiB0aGUgZmlyc3QsX18gbWFrZSBhbGwgdGhlIGNvbHVtbnMgb3V0bGluZWQgaW4gIndoaXRlIi4KKiBfX0luIHRoZSBzZWNvbmQsX18gbWFrZSBhbGwgdGhlIGNvbHVtbnMgb3V0bGluZWQgaW4gIndoaXRlIiBhbmQgZmlsbGVkIGluICJuYXZ5Ymx1ZSIuCiogX19JbiB0aGUgdGhpcmQsX18gbWFrZSBhbGwgdGhlIGNvbHVtbnMgb3V0bGluZWQgaW4gIndoaXRlIiBhbmQgZmlsbGVkIGluIGFjY29yZGluZyB0byB3aGV0aGVyIG9yIG5vdCBgcG9zdF9pZm9jZWAgaXMgVFJVRSBvciBGQUxTRSAodXNlIGRlZmF1bHQgY29sb3JzIGZvciBub3cpLgoKX0hJTlQ6XyBgY29sb3JgIGFuZCBgZmlsbGAgYXJlIHR3byBvZiBgZ2dwbG90YCdzIGFlc3RoZXRpYyBtYXBwaW5nIHZhcmlhYmxlcyAoaS5lLiwgInRoaW5ncyBhYm91dCBob3cgdGhlIHBsb3QgbG9va3MgdGhhdCB3ZSBnZXQgdG8gc3BlY2lmeSIpCgogIDwvZGl2Pgo8L2Rpdj4KCgoKYGBge3J9CmdncGxvdChob3RfZG9ncywgYWVzKHggPSB5ZWFyLCB5ID0gbnVtX2VhdGVuKSkgKyAKICBnZW9tX2NvbChjb2xvdXIgPSAid2hpdGUiKSArIAogIGxhYnMoeCA9ICJZZWFyIiwgeSA9ICJIb3QgRG9ncyBhbmQgQnVucyBDb25zdW1lZCIpICsKICBnZ3RpdGxlKCJOYXRoYW4ncyBIb3QgRG9nIEVhdGluZyBDb250ZXN0IFJlc3VsdHMsIDE5ODEtMjAxNyIpCmBgYAoKYGBge3J9CmdncGxvdChob3RfZG9ncywgYWVzKHggPSB5ZWFyLCB5ID0gbnVtX2VhdGVuKSkgKyAKICBnZW9tX2NvbChjb2xvdXIgPSAid2hpdGUiLCBmaWxsID0gIm5hdnlibHVlIikgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMTciKQpgYGAKCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBwb3N0X2lmb2NlKSwgY29sb3VyID0gIndoaXRlIikgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMTciKQpgYGAKCgoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtc3VjY2VzcyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+Q2hhbGxlbmdlICMyOjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpXaGF0IGlmIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgbGVnZW5kIGluIHRoZSBsYXN0IHBsb3QgeW91IG1hZGU/IFVzZSBnb29nbGUgdG8gZmlndXJlIG91dCBob3cgdG8gZG8gdGhlIGZvbGxvd2luZzoKCiogRGVsZXRlIHRoZSBsZWdlbmQgdGl0bGUKKiBNYWtlIHRoZSBsZWdlbmQgdGV4dCBlaXRoZXIgIlBvc3QtSUZPQ0UiIG9yICJQcmUtSUZPQ0UiLgoKSElOVDogaW4gYGdncGxvdGAsIGxlZ2VuZHMgYXJlIGNvbnRyb2xsZWQgYnkgdGhlIHJlbGV2YW50IHNjYWxlIChjb2xvciwgZmlsbCwgZXRjLikgdGhhdCB0aGV5IGFyZSBtYXBwZWQgdG8uCgogIDwvZGl2Pgo8L2Rpdj4KCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBwb3N0X2lmb2NlKSwgY29sb3VyID0gIndoaXRlIikgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMTciKSArCiAgc2NhbGVfZmlsbF9kaXNjcmV0ZShuYW1lID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM9YygiUHJlLUlGT0NFIiwgIlBvc3QtSUZPQ0UiKSkKYGBgCgojIENoYW5nZSBUaGUgRGF0YXNldAoKTm93LCBsZXQncyBjaGFuZ2UgdGhlIHF1ZXN0aW9uIGEgbGl0dGxlIGJpdC4gVXAgdG8gdGhpcyBwb2ludCwgd2UgaGF2ZSBsb29rZWQgYXQgSERCIHBlcmZvcm1hbmNlIHJlbGF0aXZlIHRvICB0aGUgX2NyZWF0aW9uXyBvZiB0aGUgSUZPQ0UuIFdoYXQgaWYgd2hhdCBtYXR0ZXJzIGlzIHRoZSBfYWZmaWxpYXRpb25fIG9mIHRoZSBjb250ZXN0YW50cyAoaS5lLiwgd2hldGhlciBvciBub3QgdGhlIGNvbnRlc3RhbnRzIGFyZSBtZW1iZXJzIG9mIHRoZSBJRk9DRSBvciBub3QpPyBXZSdsbCBuZWVkIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9yIHRoaXMuIFRocm91Z2ggdGhlIF9NYWdpYyBPZiBEYXRhIFNjaWVuY2XihKJfLCB3ZSBoYXZlIGR1ZyB0aGF0IGluZm9ybWF0aW9uIHVwIGFuZCBwdXQgaXQgaW50byBhbiBleHBhbmRlZCB2ZXJzaW9uIG9mIG91ciBDU1YgZmlsZSBhdmFpbGFibGUgYXQgW2h0dHA6Ly9iaXQubHkvY3M2MzEtaG90ZG9nLWFmZmlsaWF0ZWRdKGh0dHA6Ly9iaXQubHkvY3M2MzEtaG90ZG9nLWFmZmlsaWF0ZWQpLgoKCjxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLXN1Y2Nlc3MiPgogIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPkNoYWxsZW5nZSAjMzo8L2Rpdj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5Ij4KTGV0J3Mgd29yayB3aXRoIHRoaXMgbmV3IGRhdGFzZXQhIERvIHRoZSBmb2xsb3dpbmc6CgoqIFJlYWQgaW4gdGhlICJob3RfZG9nX2NvbnRlc3Rfd2l0aF9hZmZpbGlhdGlvbi5jc3YiIGRhdGEgZmlsZSwgdXNpbmcgYGNvbF90eXBlc2AgdG8gcmVhZCBpbiBgYWZmaWxpYXRlZGAgYW5kIGBnZW5kZXJgIGFzIGZhY3RvcnMuIAoqIFdpdGhpbiBhIGBtdXRhdGVgLCBjcmVhdGUgYSBuZXcgdmFyaWFibGUgY2FsbGVkIGBwb3N0X2lmb2NlYCB0aGF0IGlzIFRSVUUgaWYgYHllYXJgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxOTk3LiAKKiBBbHNvIGBmaWx0ZXJgIHRoZSBuZXcgZGF0YSBmb3Igb25seSB5ZWFycyAxOTgxIGFuZCBhZnRlciwgYW5kIG9ubHkgZm9yIG1hbGUgY29tcGV0aXRvcnMuCiAgPC9kaXY+CjwvZGl2PgoKYGBge3IgZXZhbCA9IEZBTFNFfQpoZG1fYWZmaWwgPC0gcmVhZF9jc3YoaGVyZTo6aGVyZSgiZGF0YSIsICJob3RfZG9nX2NvbnRlc3Rfd2l0aF9hZmZpbGlhdGlvbi5jc3YiKSwgCiAgICBjb2xfdHlwZXMgPSBjb2xzKAogICAgICBhZmZpbGlhdGVkID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKSwgCiAgICAgIGdlbmRlciA9IGNvbF9mYWN0b3IobGV2ZWxzID0gTlVMTCkKICAgICAgKSkgJT4lIAogIG11dGF0ZShwb3N0X2lmb2NlID0geWVhciA+PSAxOTk3KSAlPiUgCiAgZmlsdGVyKHllYXIgPj0gMTk4MSAmIGdlbmRlciA9PSAibWFsZSIpIApgYGAKCgpgYGB7cn0KaGRtX2FmZmlsIDwtIHJlYWRfY3N2KGhlcmU6OmhlcmUoImRhdGEiLCAiaG90X2RvZ19jb250ZXN0X3dpdGhfYWZmaWxpYXRpb24uY3N2IiksIAogICAgY29sX3R5cGVzID0gY29scygKICAgICAgYWZmaWxpYXRlZCA9IGNvbF9mYWN0b3IobGV2ZWxzID0gTlVMTCksIAogICAgICBnZW5kZXIgPSBjb2xfZmFjdG9yKGxldmVscyA9IE5VTEwpCiAgICAgICkpICU+JSAKICBtdXRhdGUocG9zdF9pZm9jZSA9IHllYXIgPj0gMTk5NykgJT4lIAogIGZpbHRlcih5ZWFyID49IDE5ODEgJiBnZW5kZXIgPT0gIm1hbGUiKSAKZ2xpbXBzZShoZG1fYWZmaWwpCmBgYAoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtc3VjY2VzcyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+Q2hhbGxlbmdlICM0OjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpMZXQncyBkbyBzb21lIGJhc2ljIEVEQSB3aXRoIHRoaXMgbmV3IGRhdGFzZXQhIERvIHRoZSBmb2xsb3dpbmc6CgoqIFVzZSBgZHBseXI6OmRpc3RpbmN0YCB0byBmaWd1cmUgb3V0IGhvdyBtYW55IHVuaXF1ZSB2YWx1ZXMgdGhlcmUgYXJlIG9mIGBhZmZpbGlhdGVkYC4KKiBVc2UgYGRwbHlyOjpjb3VudGAgdG8gY291bnQgdGhlIG51bWJlciBvZiByb3dzIGZvciBlYWNoIHVuaXF1ZSB2YWx1ZSBvZiBgYWZmaWxpYXRlZGA7IHVzZSBgP2NvdW50YCB0byBmaWd1cmUgb3V0IGhvdyB0byBzb3J0IHRoZSBjb3VudHMgaW4gZGVzY2VuZGluZyBvcmRlci4KICA8L2Rpdj4KPC9kaXY+CgpgYGB7cn0KaGRtX2FmZmlsICU+JSAKICBkaXN0aW5jdChhZmZpbGlhdGVkKQpoZG1fYWZmaWwgJT4lIAogIGNvdW50KGFmZmlsaWF0ZWQsIHNvcnQgPSBUUlVFKQpgYGAKCgpOb3cgbGV0J3MgcGxvdCB0aGlzIG5ldyBkYXRhLCBhbmQgZmlsbCB0aGUgY29sdW1ucyBhY2NvcmRpbmcgdG8gb3VyIG5ldyBgYWZmaWxpYXRlZGAgY29sdW1uLgoKYGBge3J9CmdncGxvdChoZG1fYWZmaWwsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBhZmZpbGlhdGVkKSkgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMTciKQpgYGAKCjxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLXN1Y2Nlc3MiPgogIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPkNoYWxsZW5nZSAjNTo8L2Rpdj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5Ij4KRG8gdGhlIGZvbGxvd2luZyB1cGRhdGVzIHRvIHRoZSBsYXN0IHBsb3Qgd2UganVzdCBtYWRlOgoKKiBVcGRhdGUgdGhlIGNvbG9ycyB1c2luZyBoZXggY29sb3JzOiBgYygnI0U5NjAyQicsJyMyMjc3QTAnLCcjQ0NCNjgzJylgLiAKKiBDaGFuZ2UgdGhlIGxlZ2VuZCB0aXRsZSB0byAiSUZPQ0UtYWZmaWxpYXRpb24iLiAKKiBTYXZlIHRoaXMgcGxvdCBvYmplY3QgYXMgImFmZmlsX3Bsb3QiLgogIDwvZGl2Pgo8L2Rpdj4KCmBgYHtyfQphZmZpbF9wbG90IDwtIGdncGxvdChoZG1fYWZmaWwsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBhZmZpbGlhdGVkKSkgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMTciKSArCiAgc2NhbGVfZmlsbF9tYW51YWwodmFsdWVzID0gYygnI0U5NjAyQicsJyMyMjc3QTAnLCcjQ0NCNjgzJyksCiAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJJRk9DRS1hZmZpbGlhdGlvbiIpCmFmZmlsX3Bsb3QKYGBgCgojIFBsYXkgV2l0aCBTY2FsZXMgJiBDb29yZGluYXRlcwoKTm93IHRoYXQgdGhlIGJvbmVzIG9mIHRoZSBwbG90IGFyZSBpbiBwbGFjZSwgaXQncyB0aW1lIHRvIHR3ZWFrIHRoZSBkZXRhaWxzLgoKVGhlIHNwYWNpbmcncyBhIGxpdHRsZSBmdW5reSBkb3duIG5lYXIgdGhlIG9yaWdpbiBvZiB0aGUgcGxvdC4gVGhlIFtkb2N1bWVudGF0aW9uXShodHRwOi8vZ2dwbG90Mi50aWR5dmVyc2Uub3JnL3JlZmVyZW5jZS9zY2FsZV9jb250aW51b3VzLmh0bWwpIHRlbGxzIHVzIHRoYXQgdGhlIGRlZmF1bHRzIGFyZSBgYygwLjA1LCAwKWAgZm9yIGNvbnRpbnVvdXMgdmFyaWFibGVzLiBUaGUgZmlyc3QgbnVtYmVyIGlzIG11bHRpcGxpY2F0aXZlIGFuZCB0aGUgc2Vjb25kIGlzIGFkZGl0aXZlLiAKClRoZSBkZWZhdWx0IHdhcyB0aGF0IDEuOCAoKDIwMTctMTk4MSkqLjA1KzApIHdhcyBhZGRlZCB0byB0aGUgcmlnaHQgYW5kIGxlZnQgc2lkZXMgb2YgdGhlIHgtYXhpcyBhcyBwYWRkaW5nLCBzbyB0aGUgZWZmZWN0aXZlIGRlZmF1bHQgbGltaXRzIHdlcmUgYGMoMTk3OSwgMjAxOSlgLgoKTGV0J3MgdGlnaHRlbiB0aGF0IHVwIHdpdGggdGhlIGBleHBhbmRgIHByb3BlcnR5IGZvciB0aGUgYHNjYWxlX3lfY29udGludW91c2AgKHdlJ2xsIGFsc28gY2hhbmdlIHRoZSBicmVha3MgZm9yIHktYXhpcyB0aWNrIG1hcmtzIGhlcmUpIGFuZCBgc2NhbGVfeF9jb250aW51b3VzYCBzZXR0aW5nczoKCmBgYHtyfQphZmZpbF9wbG90IDwtIGFmZmlsX3Bsb3QgKyAKICBzY2FsZV95X2NvbnRpbnVvdXMoZXhwYW5kID0gYygwLCAwKSwKICAgICAgICAgICAgICAgICAgICAgYnJlYWtzID0gc2VxKDAsIDcwLCAxMCkpICsKICBzY2FsZV94X2NvbnRpbnVvdXMoZXhwYW5kID0gYygwLCAwKSkKYWZmaWxfcGxvdApgYGAKCgoKQnV0IG5vdyB0aGUgcGxvdCBsb29rcyBsaWtlIGl0IGlzIHdlYXJpbmcgdGlnaHQgcGFudHMuCgo8IS0tICFbXShodHRwczovL21lZGlhLmdpcGh5LmNvbS9tZWRpYS94VDFYSDA3bm8yd1pTcTRtbm0vZ2lwaHkuZ2lmKSAtLT4KCkxldCdzIGxvb3NlbiB0aGluZ3MgdXAgYSBiaXQgYnkgdXBkYXRpbmcgdGhlIHBsb3QgY29vcmRpbmF0ZXMuIAoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtc3VjY2VzcyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+Q2hhbGxlbmdlICM2OjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpVc2UgYGNvb3JkX2NhcnRlc2lhbmAgdG86CgoqIFNldCB0aGUgeC1heGlzIHJhbmdlIHRvIDE5ODAtMjAxOAoqIFNldCB0aGUgeS1heGlzIHJhbmdlIHRvIDAtODAKICA8L2Rpdj4KPC9kaXY+CgpVc2luZyBgY29vcmRfY2FydGVzaWFuYCBpcyB0aGUgcHJlZmVycmVkIGxheWVyIGhlcmUgYmVjYXVzZSAic2V0dGluZyBsaW1pdHMgb24gdGhlIGNvb3JkaW5hdGUgc3lzdGVtIHdpbGwgem9vbSB0aGUgcGxvdCAobGlrZSB5b3UncmUgbG9va2luZyBhdCBpdCB3aXRoIGEgbWFnbmlmeWluZyBnbGFzcyksIGFuZCB3aWxsIG5vdCBjaGFuZ2UgdGhlIHVuZGVybHlpbmcgZGF0YSBsaWtlIHNldHRpbmcgYGxpbWl0c2Agb24gYSBzY2FsZSB3aWxsLiIgIAoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtaW5mbyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+TGVzc29uOjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpEb24ndCBjaGFuZ2UgYGxpbWl0c2AgdW5sZXNzIHlvdSByZWFsbHkga25vdyB3aGF0IHlvdSBhcmUgZG9pbmchIE1vc3Qgb2YgdGhlIHRpbWUsIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgY29vcmRpbmF0ZXMgaW5zdGVhZC4KICA8L2Rpdj4KPC9kaXY+CgpgYGB7cn0KYWZmaWxfcGxvdCA8LSBhZmZpbF9wbG90ICsgCiAgY29vcmRfY2FydGVzaWFuKHhsaW0gPSBjKDE5ODAsIDIwMTgpLCB5bGltID0gYygwLCA4MCkpIAphZmZpbF9wbG90CmBgYAoKCiMgUGxheSBXaXRoIFRoZW1lIFNldHRpbmdzCgpXZSB3aWxsIHRhbGsgYSBsb3QgbW9yZSBhYm91dCB0aGVtZXMgYW5kIGBnZ3Bsb3RgIGxhdGVyIGluIHRoZSB0ZXJtLCBidXQgZm9yIG5vdywgdGhlIGltcG9ydGFudCB0aGluZyB0byBrbm93IGlzIHRoYXQgbW9zdCB2aXN1YWwgYXNwZWN0cyBvZiB0aGUgcGxvdCBoYXZlIGEgX25hbWVfIChlLmcuIGBwbG90LnRpdGxlYCksIGFuZCB0aGUgYHRoZW1lKClgIGZ1bmN0aW9uIGxldHMgdXMgdGVsbCBgZ2dwbG90YCB3aGF0IGFueSBbbmFtZWQgcGFydF0oaHR0cHM6Ly9nZ3Bsb3QyLnRpZHl2ZXJzZS5vcmcvcmVmZXJlbmNlL3RoZW1lLmh0bWwpIG9mIHRoZSBwbG90IHNob3VsZCBsb29rIGxpa2UuCgpMZXQncyBjaGFuZ2Ugc29tZSBrZXkgdGhlbWUgc2V0dGluZ3M6CgpgYGB7cn0KYWZmaWxfcGxvdCArCiAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChoanVzdCA9IDAuNSkpICsKICB0aGVtZShheGlzLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDEyKSkgKwogIHRoZW1lKHBhbmVsLmJhY2tncm91bmQgPSBlbGVtZW50X2JsYW5rKCkpICsKICB0aGVtZShheGlzLmxpbmUueCA9IGVsZW1lbnRfbGluZShjb2xvciA9ICJncmF5ODAiLCBzaXplID0gMC41KSkgKwogIHRoZW1lKGF4aXMudGlja3MgPSBlbGVtZW50X2xpbmUoY29sb3IgPSAiZ3JheTgwIiwgc2l6ZSA9IDAuNSkpCmBgYAoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtaW5mbyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+TGVzc29uOjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpZb3UgY2FuIGNoYW5nZSAqYWxtb3N0IGFueXRoaW5nKiB0aGF0IHlvdXIgaGVhcnQgZGVzaXJlcyB0byBjaGFuZ2UhIAogIDwvZGl2Pgo8L2Rpdj4KCgpCeSBkZWZhdWx0LCBwbG90IHRpdGxlcyBpbiBgZ2dwbG90MmAgYXJlIGxlZnQtYWxpZ25lZC4gRm9yIGBoanVzdGA6CgotIGAwYCA9PSBsZWZ0Ci0gYDAuNWAgPT0gY2VudGVyZWQKLSBgMWAgPT0gcmlnaHQKCldlIGNvdWxkIGFsc28gc2F2ZSBhbGwgdGhlc2UgYXMgYSBjdXN0b20gdGhlbWUuIFdlIGFyZSBub3QgZmFucyBvZiB0aGUgZGVmYXVsdCBmb250LCBzbyB3ZSBhcmUgYWxzbyBnb2luZyB0byBjaGFuZ2UgdGhpcy4gVG8gZG8gdGhpcywgeW91IG5lZWQgdG8gaW5zdGFsbCB0aGUgKGBleHRyYWZvbnRgIHBhY2thZ2UpW2h0dHBzOi8vZ2l0aHViLmNvbS93Y2gvZXh0cmFmb250XSBhbmQgZm9sbG93IGl0cyBzZXR1cCBpbnN0cnVjdGlvbnMgYmVmb3JlIGRvaW5nIHRoaXMgbmV4dCBzdGVwLgoKYGBge3J9CmhvdF9kaWdnaXR5IDwtIHRoZW1lKHBsb3QudGl0bGUgPSBlbGVtZW50X3RleHQoaGp1c3QgPSAwLjUpLAogICAgICAgICAgICAgICAgICAgICBheGlzLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDEyKSwKICAgICAgICAgICAgICAgICAgICAgcGFuZWwuYmFja2dyb3VuZCA9IGVsZW1lbnRfYmxhbmsoKSwKICAgICAgICAgICAgICAgICAgICAgYXhpcy5saW5lLnggPSBlbGVtZW50X2xpbmUoY29sb3IgPSAiZ3JheTgwIiwgc2l6ZSA9IDAuNSksCiAgICAgICAgICAgICAgICAgICAgIGF4aXMudGlja3MgPSBlbGVtZW50X2xpbmUoY29sb3IgPSAiZ3JheTgwIiwgc2l6ZSA9IDAuNSksCiAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBlbGVtZW50X3RleHQoZmFtaWx5ID0gIkxhdG8iKSAjIG5lZWQgZXh0cmFmb250IGZvciB0aGlzCiAgICAgICAgICAgICAgICAgICAgICkKYGBgCgoKCmBgYHtyfQphZmZpbF9wbG90ICsgaG90X2RpZ2dpdHkgCmBgYAoKV2UgY291bGQgYWxzbyB1c2Ugc29tZW9uZSBlbHNlJ3MgdGhlbWU6CgpgYGB7cn0KbGlicmFyeShnZ3RoZW1lcykKYWZmaWxfcGxvdCArIHRoZW1lX2ZpdmV0aGlydHllaWdodChiYXNlX2ZhbWlseSA9ICJMYXRvIikKYWZmaWxfcGxvdCArIHRoZW1lX3R1ZnRlKCBiYXNlX2ZhbWlseSA9ICJQYWxhdGlubyIpCmBgYAoKCgoKVGhlIGZpbmFsIHRoaW5nIHdlIGhhdmUgdG8gbWVzcyB3aXRoIGlzIHRoZSB4LWF4aXMgdGlja3MgYW5kIGxhYmVscy4gV2UnbGwgZG8gdGhpcyBpbiB0d28gc3RlcHMsIHRoZW4gb3ZlcnJpZGUgb3VyIHByZXZpb3VzIGxheWVyIGBzY2FsZV94X2NvbnRpbnVvdXNgLgoKYGBge3J9CiMgbWFudWFsbHkgY29tcHV0ZSBhIGxpc3Qgb2YgeWVhcnMgdGhhdCB3ZSB3YW50IGxhYmVsZWQuLi4KeWVhcnNfdG9fbGFiZWwgPC0gc2VxKGZyb20gPSAxOTgxLCB0byA9IDIwMTcsIGJ5ID0gNCkgCnllYXJzX3RvX2xhYmVsCgojIGFkZCBhIGNvbHVtbiB0byB0aGUgZGF0YWZyYW1lIGNvbnRhaW5pbmcgd2hhdCB3ZSB3YW50IGVhY2ggeWVhcidzIGxhYmVsIHRvIGJlCmhkX3llYXJzIDwtIGhkbV9hZmZpbCAlPiUKICBkaXN0aW5jdCh5ZWFyKSAlPiUgCiAgbXV0YXRlKHllYXJfbGFiID0gaWZlbHNlKHllYXIgJWluJSB5ZWFyc190b19sYWJlbCwgeWVhciwgIiIpKQpgYGAKCmBgYHtyfQojIG1hbnVhbGx5IHRlbGwgZ2dwbG90IHdoYXQgdG8gdXNlIGZvciBicmVha3MgYW5kIGxhYmVscwphZmZpbF9wbG90ICsgCiAgaG90X2RpZ2dpdHkgKwogIHNjYWxlX3hfY29udGludW91cyhleHBhbmQgPSBjKDAsIDApLCAKICAgICAgICAgICAgICAgICAgICAgYnJlYWtzID0gaGRfeWVhcnMkeWVhciwKICAgICAgICAgICAgICAgICAgICAgbGFiZWxzID0gaGRfeWVhcnMkeWVhcl9sYWIpCmBgYAoKIyBGaW5hbCAoZmluYWwsIGZpbmFsKSB2ZXJzaW9uCgpEb24ndCBuYW1lIHlvdXIgZmlsZXMgImZpbmFsIiA6KQoKIVtdKGh0dHA6Ly93d3cucGhkY29taWNzLmNvbS9jb21pY3MvYXJjaGl2ZS9waGQxMDEyMTJzLmdpZikKCkFsbCB0b2dldGhlciBpbiBvbmUgY2h1bmssIGhlcmUgaXMgb3VyIGZpbmFsIChmb3Igbm93KSBwbG90ISBJJ20gYWxzbyBhZGRpbmcgc29tZSBhZGRpdGlvbmFsIGVsZW1lbnRzIGhlcmUgdG8gc2hvdyB5b3Ugb3B0aW9uczoKCmBgYHtyfQpuYXRoYW5fcGxvdCA8LSBnZ3Bsb3QoaGRtX2FmZmlsLCBhZXMoeCA9IHllYXIsIHkgPSBudW1fZWF0ZW4pKSArIAogIGdlb21fY29sKGFlcyhmaWxsID0gYWZmaWxpYXRlZCkpICsgCiAgbGFicyh4ID0gIlllYXIiLCB5ID0gIkhvdCBEb2dzIGFuZCBCdW5zIENvbnN1bWVkIikgKwogIGdndGl0bGUoIk5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QgUmVzdWx0cywgMTk4MS0yMDE3IikgKwogIHNjYWxlX2ZpbGxfbWFudWFsKHZhbHVlcyA9IGMoJyNFOTYwMkInLCcjMjI3N0EwJywnI0NDQjY4MycpLAogICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiSUZPQ0UtYWZmaWxpYXRpb24iKSArIAogIGhvdF9kaWdnaXR5ICsKICBzY2FsZV95X2NvbnRpbnVvdXMoZXhwYW5kID0gYygwLCAwKSwKICAgICAgICAgICAgICAgICAgICAgYnJlYWtzID0gc2VxKDAsIDcwLCAxMCkpICsKICBzY2FsZV94X2NvbnRpbnVvdXMoZXhwYW5kID0gYygwLCAwKSwgCiAgICAgICAgICAgICAgICAgICAgIGJyZWFrcyA9IGhkX3llYXJzJHllYXIsCiAgICAgICAgICAgICAgICAgICAgIGxhYmVscyA9IGhkX3llYXJzJHllYXJfbGFiKSArIAogIGNvb3JkX2NhcnRlc2lhbih4bGltID0gYygxOTgwLCAyMDE4KSwgeWxpbSA9IGMoMCwgODApKSAKbmF0aGFuX3Bsb3QKYGBgCgpUaGUgZmlsbCBsZWdlbmQgaXMgZG9pbmcgaXRzIGpvYiwgaGVyZSwgYnV0IHdlIG1pZ2h0IGluc3RlYWQgd2FudCB0byB1c2UgZGlyZWN0IGFubm90YXRpb25zIG9uIHRoZSBwbG90IGl0c2VsZiwgdG8gbWFrZSBpdCBlYXNpZXIgYW5kIGZhc3RlciB0byByZWFkLiAKCmBnZ3Bsb3RgIHdpbGwgbGV0IHVzIGFkZCBfYW5ub3RhdGF0aW9uc18gdG8gdGhlIHBsb3QtIGkuZS4sIGV4dHJhIHRleHQsIGxpbmVzICwgZXRjLiB0aGF0IGFyZSBub3QgZGVyaXZlZCBmcm9tIHRoZSBkYXRhIGluIHRoZSBwbG90LCBidXQgYXJlIG1hbnVhbGx5IHNwZWNpZmllZCAtIHVzaW5nIHRoZSBgYW5ub3RhdGUoKWAgZnVuY3Rpb24sIHdoaWNoIGFkZHMgYWRkaXRpb25hbCBsYXllcnMgdG8gdGhlIHBsb3QuIFRoZSB3YXkgd2UgYXJlIGRvaW5nIGl0IGJlbG93IGlzIGEgYml0IHRlZGlvdXMgYnV0IGRlbW9uc3RyYXRlcyBob3cgaXQgd29ya3MuCgpgYGB7cn0KbmF0aGFuX2FubiA8LSBuYXRoYW5fcGxvdCArCiAgZ3VpZGVzKGZpbGwgPSBGQUxTRSkgKwogIGNvb3JkX2NhcnRlc2lhbih4bGltID0gYygxOTgwLCAyMDE5KSwgeWxpbSA9IGMoMCwgODUpKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTE5ODAuNzUsIHhlbmQ9MjAwMC4yNSwgeT0gMzAsIHllbmQ9MzAsIHNpemU9MC41LCBjb2xvcj0iI0NDQjY4MyIpKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0xOTgwLjc1LCB4ZW5kPTE5ODAuNzUsIHk9IDMwLCB5ZW5kPTI4LCBzaXplPTAuNSwgY29sb3I9IiNDQ0I2ODMiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDAuMjUsIHhlbmQ9MjAwMC4yNSwgeT0gMzAsIHllbmQ9MjgsIHNpemU9MC41LCBjb2xvcj0iI0NDQjY4MyIpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MTk5MCwgeGVuZD0xOTkwLCB5PSAzMywgeWVuZD0zMCwgc2l6ZT0wLjUsIGNvbG9yPSIjQ0NCNjgzIikgKwogIGFubm90YXRlKCd0ZXh0JywgeD0xOTkwLCB5PTM2LCBsYWJlbD0iTm8gTUxFL0lGT0NFIEFmZmlsaWF0aW9uIiwgY29sb3I9IiNDQ0I2ODMiLCBmYW1pbHk9IkxhdG8iLCBoanVzdD0wLjUsIHNpemUgPSAzKSArCgoKCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDAuNzUsIHhlbmQ9MjAwNi4yNSwgeT0gNTgsIHllbmQ9NTgsIHNpemU9MC41LCBjb2xvcj0iIzIyNzdBMCIpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MjAwMC43NSwgeGVuZD0yMDAwLjc1LCB5PSA1OCwgeWVuZD01Niwgc2l6ZT0wLjUsIGNvbG9yPSIjMjI3N0EwIikgKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0yMDA2LjI1LCB4ZW5kPTIwMDYuMjUsIHk9IDU4LCB5ZW5kPTU2LCBzaXplPTAuNSwgY29sb3I9IiMyMjc3QTAiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDMuNSwgeGVuZD0yMDAzLjUsIHk9IDYxLCB5ZW5kPTU4LCBzaXplPTAuNSwgY29sb3I9IiMyMjc3QTAiKSArCiAgYW5ub3RhdGUoJ3RleHQnLCB4PTIwMDMuNSwgeT02NSwgbGFiZWw9Ik1MRS9JRk9DRVxuRm9ybWVyIE1lbWJlciIsIGNvbG9yPSIjMjI3N0EwIiwgZmFtaWx5PSJMYXRvIiwgaGp1c3Q9MC41LCBzaXplID0gMykgKwoKCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDYuNzUsIHhlbmQ9MjAxNy4yNSwgeT0gNzYsIHllbmQ9NzYsIHNpemU9MC41LCBjb2xvcj0iI0U5NjAyQiIpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MjAwNi43NSwgeGVuZD0yMDA2Ljc1LCB5PSA3NiwgeWVuZD03NCwgc2l6ZT0wLjUsIGNvbG9yPSIjRTk2MDJCIikgKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0yMDE3LjI1LCB4ZW5kPTIwMTcuMjUsIHk9IDc2LCB5ZW5kPTc0LCBzaXplPTAuNSwgY29sb3I9IiNFOTYwMkIiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMTIsIHhlbmQ9MjAxMiwgeT0gNzksIHllbmQ9NzYsIHNpemU9MC41LCBjb2xvcj0iI0U5NjAyQiIpICsKICBhbm5vdGF0ZSgndGV4dCcsIHg9MjAxMiwgeT04MiwgbGFiZWw9Ik1MRS9JRk9DRSBDdXJyZW50IE1lbWJlciIsIGNvbG9yPSIjRTk2MDJCIiwgZmFtaWx5PSJMYXRvIiwgaGp1c3Q9MC41LCBzaXplID0gMykKbmF0aGFuX2FubgpgYGAKCkZpbmFsbHksIGFkZGluZyBpbiBhbm90aGVyIGxheWVyIG9mIGRhdGEsIGluY2x1ZGluZyBpbmZvcm1hdGlvbiBhYm91dCBmZW1hbGUgY29udGVzdGFudHM6CgpgYGB7cn0KaGRtX2ZlbWFsZXMgPC0gcmVhZF9jc3YoaGVyZTo6aGVyZSgiZGF0YSIsICJob3RfZG9nX2NvbnRlc3Rfd2l0aF9hZmZpbGlhdGlvbi5jc3YiKSwgCiAgICBjb2xfdHlwZXMgPSBjb2xzKAogICAgICBhZmZpbGlhdGVkID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKSwgCiAgICAgIGdlbmRlciA9IGNvbF9mYWN0b3IobGV2ZWxzID0gTlVMTCkKICAgICAgKSkgJT4lIAogIG11dGF0ZShwb3N0X2lmb2NlID0geWVhciA+PSAxOTk3KSAlPiUgCiAgZmlsdGVyKHllYXIgPj0gMTk4MSAmIGdlbmRlciA9PSAiZmVtYWxlIikgCmdsaW1wc2UoaGRtX2ZlbWFsZXMpCmBgYAoKYGBge3J9Cm5hdGhhbl93X2ZlbWFsZXMgPC0gbmF0aGFuX2FubiArCiAgIyBhZGQgaW4gdGhlIGZlbWFsZSBkYXRhLCBhbmQgbWFudWFsbHkgc2V0IGEgZmlsbCBjb2xvcgogIGdlb21fY29sKGRhdGEgPSBoZG1fZmVtYWxlcywgCiAgICAgICAgICAgd2lkdGggPSAwLjc1LCAKICAgICAgICAgICBmaWxsID0gIiNGNjhBMzkiKSAKbmF0aGFuX3dfZmVtYWxlcwpgYGAKCkFuZCBhZGRpbmcgYSBmaW5hbCBjYXB0aW9uOgoKYGBge3J9CmNhcHRpb24gPC0gcGFzdGUoc3Ryd3JhcCgiKiBGcm9tIDIwMTEgb24sIHNlcGFyYXRlIE1lbidzIGFuZCBXb21lbidzIHByaXplcyBoYXZlIGJlZW4gYXdhcmRlZC4gQWxsIGZlbWFsZSBjaGFtcGlvbnMgdG8gZGF0ZSBoYXZlIGJlZW4gTUxFL0lGT0NFLWFmZmlsaWF0ZWQuIiwgNzApLCBjb2xsYXBzZT0iXG4iKQoKbmF0aGFuX3dfZmVtYWxlcyArCiAgIyBub3cgYW4gYXN0ZXJpc2sgdG8gc2V0IG9mZiB0aGUgZmVtYWxlIHNjb3JlcywgYW5kIGEgY2FwdGlvbgogIGFubm90YXRlKCd0ZXh0JywgeCA9IDIwMTguNSwgeSA9IDM5LCBsYWJlbD0iKiIsIGZhbWlseSA9ICJMYXRvIiwgc2l6ZSA9IDgpICsKICBsYWJzKGNhcHRpb24gPSBjYXB0aW9uKSArCiAgdGhlbWUocGxvdC5jYXB0aW9uID0gZWxlbWVudF90ZXh0KGZhbWlseSA9ICJMYXRvIiwgc2l6ZT04LCBoanVzdD0wLCBtYXJnaW49bWFyZ2luKHQ9MTUpKSkKYGBgCgo=</div>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="by-nc.png" width="133" height="25"/></a>
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("01-eda_hot_dogs.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
